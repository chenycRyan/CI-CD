/*!
 *  build: HuiBo-Admin 
 *   time: 2022-12-1 15:17:30
 */
(window["webpackJsonp_huibo"]=window["webpackJsonp_huibo"]||[]).push([["chunk-2d0aa273"],{1097:function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e._self._c;return a("div",{staticClass:"page-container"},[e.requestComplete?a("base-manage",{attrs:{api:e.api,"append-query-params":e.appendQueryParams,"expand-table":e.expandTable,"invalid-params":e.invalidParams,"modal-titles":e.modalTitles,"search-keyword":e.searchKeyword,"search-placeholder":e.searchPlaceholder,"tab-keyword":e.tabKeyword,"table-columns":e.tableColumns,tabs:e.tabs}}):e._e()],1)},s=[],d=t("3312"),r=t("b07a"),o=t("ed08"),p=t("d936"),c=t("b775");const i="/cms/odsgzszhdsj";function b(e){return Object(c["a"])({url:i+"/page",method:"get",params:e})}function n(e){return Object(c["a"])({url:""+i,method:"post",data:e})}function h(e,a){return Object(c["a"])({url:`${i}/${e}`,method:"put",data:a})}function j(e){return Object(c["a"])({url:`${i}/${e}`,method:"delete"})}function m(e,a){return Object(c["a"])({url:`${i}/syn/${e}`,method:"get",params:a})}function u(e,a){return Object(c["a"])({url:`${i}/edit/${e}`,method:"get",params:a})}var x=t("65b3"),g={components:{BaseManage:d["a"]},data(){return{api:{getList:b,addData:n,editData:h,deleteData:j,syncData:m,judgeData:u},modalTitles:{add:"新增活动",edit:"编辑活动"},tableColumns:Object(r["a"])([{label:"学院概况基础数据id",prop:"odsXygkjcsjId",formHidden:!0,tableHidden:!0,getVal:e=>e.odsXygkjcsj?e.odsXygkjcsj.id:""},{label:"学校机构代码",prop:"xxjgdm",formHidden:!1,disabled:!0,filter:e=>e.odsXygkjcsj.xxjgdm,getVal:e=>e.odsXygkjcsj?e.odsXygkjcsj.xxjgdm:""},{label:"学校机构名称",prop:"xxjgmc",formHidden:!1,disabled:!0,filter:e=>e.odsXygkjcsj.xxjgmc,getVal:e=>e.odsXygkjcsj?e.odsXygkjcsj.xxjgmc:""},{label:"活动名称",prop:"hdmc"},{label:"所属专题",prop:"sxzt"},{label:"活动板块",prop:"hdbk"},{label:"活动主题",prop:"hdzt"},{label:"活动类型",prop:"hdlx",type:"select",filter:e=>this.getDict("hdlx",e.hdlx)},{label:"活动内容",prop:"hdnr"},{label:"主办单位",prop:"zbdw"},{label:"同步状态",prop:"status",slot:"html",filter:e=>Object(o["e"])(e),formHidden:!0},{label:"主办单位级别",prop:"zbdwjb",type:"select",filter:e=>this.getDict("zbdwjb",e.zbdwjb)},{label:"活动开始日期",prop:"hdkssj",type:"date"},{label:"活动结束日期",prop:"hdjssj",type:"date"},{label:"学校负责人",prop:"xxfzr"},{label:"负责人联系方式",prop:"fzrlxfs"},{label:"本校教师参与人数",prop:"bxjscyrs",type:"number"},{label:"外校教师参与人数",prop:"xwjscyrs",type:"number"},{label:"本校学生参与人数",prop:"bxxscyrs",type:"number"},{label:"校外学生参与人数",prop:"xwxscyrs",type:"number"},{label:"数据采集时间",prop:"sjcjsj",type:"datetime"}]),searchKeyword:"hdmc",searchPlaceholder:"请输入活动名称查询",expandTable:{show:!0,rowLen:10},requestComplete:!1,dictData:{},tabKeyword:"status",tabs:[],appendQueryParams:{},school:null,invalidParams:["odsXygkjcsj","xxjgdm","xxjgmc"]}},mounted(){this.init()},methods:{async init(){this.school=await Object(p["d"])(),this.tableColumns.forEach(e=>{"xxjgdm"==e.prop&&(e.value=this.school.xxjgdm,e.disabled=!0),"xxjgmc"==e.prop&&(e.value=this.school.xxjgmc,e.disabled=!0),"odsXygkjcsjId"==e.prop&&(e.value=this.school.odsXygkjcsjId,e.disabled=!0)}),this.appendQueryParams={xxjgdm:this.school.xxjgdm},this.tabs=[{label:"未同步",name:"0"},{label:"已同步",name:"1"}];let e=[{prop:"hdlx",code:"szhdlxdm"},{prop:"zbdwjb",code:"szhdzbdwjbdm"}],a=[];e.forEach(e=>{let t=e.code;a.push(Object(x["e"])(t))}),Promise.all(a).then(a=>{a.forEach((a,t)=>{let l=e[t].prop,s=a.map(e=>({id:e.value,label:e.label}));this.dictData[l]=s,this.tableColumns.forEach(e=>{e.prop==l&&(e.data=s)})}),console.log("this.dictData",this.dictData),this.requestComplete=!0})},getDict(e,a){if(!a)return"";let t=this.dictData[e],l=t.find(e=>e.id==a);return l?l.label:""}}},y=g,f=t("2877"),w=Object(f["a"])(y,l,s,!1,null,"55c4154a",null);a["default"]=w.exports}}]);